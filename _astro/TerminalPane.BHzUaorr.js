import{c as ft,o as Re,a as dt,i as He,b as Ye,_ as Ge,d as Te,w as ut,l as ht,s as Oe,e as mt,f as Pe}from"./router.frwClmA4.js";import{C as Xe,t as bt,D as pt,L as gt,E as Ee,F as f,G as vt,I as wt,p as yt,J as ae,K as _t,S as kt,M as xt,N as It,P as $t,O as ce,Q as Dt,y as Je,R as $e,T as Qe,U as le,B as Ze,V as Fe,W as pe,X as Be,Y as ge,Z as Ke,_ as St,$ as Ct}from"./template.C3ZF97LW.js";/* empty css                        */function Ve(o,r,h){var l=Xe(o,r);l&&l.set&&(o[r]=h,bt(()=>{o[r]=null}))}function Ue(o){return o.ctx?.d??!1}function Lt(o,r,h,l){var b=!It||(h&$t)!==0,u=(h&Dt)!==0,p=!1,x;[x,p]=ft(()=>o[r]);var _=kt in o||xt in o,g=(Xe(o,r)?.set??(_&&r in o&&(d=>o[r]=d)))||void 0,A=l,j=!0,K=!1,X=()=>(K=!0,j&&(j=!1,A=l),A);x===void 0&&l!==void 0&&(g&&b&&pt(),x=X(),g&&g(x));var E;if(b)E=()=>{var d=o[r];return d===void 0?X():(j=!0,K=!1,d)};else{var T=Ee(()=>o[r]);T.f|=gt,E=()=>{var d=f(T);return d!==void 0&&(A=void 0),d===void 0?A:d}}if(g){var J=o.$$legacy;return function(d,C){return arguments.length>0?((!b||!C||J||p)&&g(C?E():d),d):E()}}var G=!1,z=ce(x),$=vt(()=>{var d=E(),C=f(z);return G?(G=!1,C):z.v=d});return f($),$.equals=wt,function(d,C){if(arguments.length>0){const i=C?f($):b&&u?yt(d):d;if(!$.equals(i)){if(G=!0,ae(z,i),K&&A!==void 0&&(A=i),Ue($))return d;_t(()=>f($))}return d}return Ue($)?$.v:f($)}}function At(o){const r={name:"/",type:"dir",path:"/",children:{}};for(const h of o){const b=h.replace(/^\.\/?/,"").split("/");let u=r,p="";for(let x=0;x<b.length;x++){const _=b[x];p+="/"+_;const g=_.includes(".");u.children||(u.children={}),u.children[_]||(u.children[_]={name:_,type:g?"file":"dir",path:p},g||(u.children[_].children={})),u=u.children[_]}}return r}const Tt=Object.keys({"/src/content/about.md":0,"/src/content/algo/about.md":0,"/src/content/algo/contests/about.md":0,"/src/content/algo/contests/arc-205.md":0,"/src/content/algo/notes/about.md":0,"/src/content/algo/problems/about.md":0,"/src/content/algo/problems/cf-1967c.md":0,"/src/content/algo/problems/cf-2056f1.md":0,"/src/content/algo/problems/cf-2056f2.md":0,"/src/content/algo/problems/cf-2113e.md":0,"/src/content/algo/problems/cf-468d.md":0,"/src/content/algo/theory/about.md":0,"/src/content/algo/theory/detect_k_neighbours_bip.md":0,"/src/content/algo/theory/offline_incremental_scc.md":0,"/src/content/algo/theory/suffix_tree_funny_construction.md":0,"/src/content/games/about.md":0,"/src/content/games/zetamac.html":0,"/src/content/home.md":0,"/src/content/misc/about.md":0,"/src/content/misc/void.md":0});let ke=null;function Pt(){if(ke)return ke;const o=Tt.map(r=>r.replace(/^\/src\/content\//,"").replace(/\.md$/,".html"));return ke=At(o),ke}function De(o){const r=o.split("/").filter(Boolean);let h=Pt();for(const l of r){if(!h.children||!h.children[l])return null;h=h.children[l]}return h}function xe(o){const r=De(o);if(!r||r.type!=="dir"||!r.children)return null;const h=[],l=[];for(const[b,u]of Object.entries(r.children))u.type==="dir"?h.push(b):l.push(b);return h.sort(),l.sort(),[...h,...l]}function qe(o){const r=De(o);return!!r&&r.type==="file"}function Y(o){const r=De(o);return!!r&&r.type==="dir"}function Ie(o,r){if(r==="/")return[];const h=r.startsWith("/"),l=r.split("/").filter(Boolean),b=h?[]:[...o];for(const p of l)p===".."?b.pop():p!=="."&&b.push(p);return De("/"+b.join("/"))?b:null}var Ft=$e("<div></div>");function Bt(o,r){Je(r,!1);const l="\x1B[38;2;100;255;218m",u="\x1B[38;2;255;230;120m",p="\x1B[37m";let x=ce(),_=Lt(r,"isFocused",12,!0),g,A;function j(){g?.focus()}function K(){A?.fit()}let X={},E=!1,T=null;const J=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];let G=0,z=null,$=!1;function d(a){return X[a]??1/0}const C={};function i(a,N){const e=C[a];if(e&&(N?e.max!==void 0:e.min!==void 0))return N?typeof e.max=="number"?e.max:-1/0:typeof e.min=="number"?e.min:1/0;let D=N?-1/0:1/0;const U=xe(a)||[];for(const P of U){const L=a==="/"?"/"+P:`${a}/${P}`;let I;Y(L)?I=i(L,N):L.endsWith(".html")?I=d(L):I=N?-1/0:1/0,D=N?Math.max(D,I):Math.min(D,I)}return C[a]||(C[a]={}),N?C[a].max=D:C[a].min=D,D}function y(a,N,e){const D=e==="desc";return[...N].sort((U,P)=>{const L=a==="/"?"/"+U:`${a}/${U}`,I=a==="/"?"/"+P:`${a}/${P}`;let F=Y(L)?i(L,D):d(L),Z=Y(I)?i(I,D):d(I);Number.isFinite(F)||(F=D?-1/0:1/0),Number.isFinite(Z)||(Z=D?-1/0:1/0);const c=D?Z-F:F-Z;return c===0?U.localeCompare(P):c})}function V(){T||!g||(g.write("\r\x1B[2K"),g.write(`${J[0]} Loading...`),T=setInterval(()=>{G=(G+1)%J.length,g?.write(`\r\x1B[2K${J[G]} Loading...`)},100))}function v(a){T&&(clearInterval(T),T=null),g&&(g.write("\r\x1B[K"),g.write(`${u}✓ Page loaded successfully\x1B[0m\r
`),g.write(`\r
`),a&&a())}Re(async()=>{_(!0);try{const t=await fetch("/vfs-date-index.json",{cache:"force-cache"});t.ok&&(X=await t.json())}catch{}const{Terminal:a}=await Ge(async()=>{const{Terminal:t}=await import("./xterm.CszRhTCM.js").then(n=>n.x);return{Terminal:t}},[]),{FitAddon:N}=await Ge(async()=>{const{FitAddon:t}=await import("./addon-fit.xGgdMdBE.js").then(n=>n.a);return{FitAddon:t}},[]),e=new a({theme:{background:"#0a0a0a",foreground:"#e0e0e0",cursor:"#64ffda",cursorAccent:"#0a0a0a",selectionBackground:"rgba(100, 255, 218, 0.2)",selectionForeground:"#e0e0e0",black:"#0a0a0a",red:"#ff6b6b",green:"#51cf66",yellow:"#ffd43b",blue:"#339af0",magenta:"#f06595",cyan:"#64ffda",white:"#e0e0e0",brightBlack:"#495057",brightRed:"#ff8787",brightGreen:"#69db7c",brightYellow:"#ffe066",brightBlue:"#4dabf7",brightMagenta:"#f783ac",brightCyan:"#7fecec",brightWhite:"#f8f9fa"},cursorBlink:!1,fontFamily:"IBM Plex Mono, SF Mono, Menlo, Monaco, Consolas, monospace",fontSize:14,fontWeight:"400",letterSpacing:.5,cols:80,rows:24,convertEol:!0,allowProposedApi:!0,smoothScrollDuration:120}),D=new N;A=D,e.loadAddon(D),e.open(f(x)),g=e,D.fit(),e.focus();function U(t){_(t)}e.textarea?.addEventListener("focus",()=>U(!0)),e.textarea?.addEventListener("blur",()=>U(!1));let P=[],L=["/"],I=[],F=0,Z="",c="",m=0;const et=["ls","cd","open","pop","clear","help","skin","skins"];let re=[],ve=0,ee=!1,se="";const fe=()=>{const t="/"+P.join("/");e.write(`${l}${t}\x1B[0m $ `)};function tt(t){if(!t)return!1;const[n,...k]=t.split(/\s+/);switch(n){case"ls":{const s=k.filter(R=>R.startsWith("-")),w=s.includes("-R")||s.includes("-r"),S=s.includes("-v"),B=k.find(R=>!R.startsWith("-"))||".",M=Ie(P,B);if(!M)return e.writeln(`ls: cannot access '${B}': No such file or directory`),!1;const H="/"+M.join("/");if(qe(H))return e.writeln(`${Y(H)?p:u}${B}\x1B[0m`),!1;const W=s.includes("-d")||s.includes("-dl"),ie=s.includes("-de"),te=W?"desc":ie?"asc":null;if(w){const R=[],he=(oe,Se="")=>{let we="/"+oe.join("/"),ne=xe(we)||[];te&&(ne=y(we,ne,te)),ne.forEach((me,Ce)=>{const be=Ce===ne.length-1,ye=be?"└─ ":"├─ ",Le=[...oe,me],Me="/"+Le.join("/"),Ae=Y(Me),ct=Ae?p:u;let We="";if(S&&!Ae){const _e=d(Me);Number.isFinite(_e)&&(We=`\x1B[2m[${new Date(_e).toISOString().slice(0,10)}]\x1B[0m `)}if(R.push(`${Se}${ye}${We}${ct}${me}\x1B[0m`),Ae){const _e=Se+(be?"   ":"│  ");he(Le,_e)}})};he(M);for(const oe of R)e.writeln(oe)}else{let R=xe(H)||[];te&&(R=y(H,R,te)),R.forEach((he,oe)=>{const we=oe===R.length-1?"└─ ":"├─ ",ne=`${H}/${he}`,me=Y(ne),Ce=me?p:u;let be="";if(S&&!me){const ye=d(ne.replace(/\.md$/,".html"));Number.isFinite(ye)&&(be=`\x1B[2m[${new Date(ye).toISOString().slice(0,10)}]\x1B[0m `)}e.writeln(`${we}${be}${Ce}${he}\x1B[0m`)})}return!1}case"cd":{const s=k[0]||"/",w=Ie(P,s);if(!w){e.writeln(`cd: no such directory: ${s}`);break}const S="/"+w.join("/");if(!Y(S)){e.writeln(`cd: not a directory: ${s}`);break}return P=w,!1}case"open":{const s=k[0];if(!s)return e.writeln("open: missing file"),!1;const w=Ie(P,s);if(w&&qe("/"+w.join("/"))){const S="/"+w.join("/");return L.push(S),Te.push(S),!0}else return e.writeln(`open: file not found: ${s}`),!1}case"pop":if(L.length>1){L.pop();const s=L[L.length-1];return Te.push(s),!0}else return e.writeln("pop: history empty"),!1;case"clear":return e.clear(),!1;case"skins":{const s=ht();return s.forEach((w,S)=>{const B=S===s.length-1?"└─ ":"├─ ";e.writeln(B+w)}),!1}case"skin":{const s=k[0];if(!s)e.writeln("Usage: skin <name>");else try{ut(s),e.writeln(`Now wearing ${s}`)}catch(w){e.writeln(String(w))}return!1}case"help":{const s=(B,M)=>B+" ".repeat(Math.max(0,M-B.length)),w=[{cmd:"ls [-r] [-d|-dl|-de] [-v] [path]",desc:"list directory (tree with -r, date sort, verbose dates)"},{cmd:"cd <dir>",desc:"change directory"},{cmd:"open <file>",desc:"open file in content pane"},{cmd:"skins",desc:"list available skins"},{cmd:"skin <name>",desc:"wear skin"},{cmd:"pop",desc:"go back"},{cmd:"clear",desc:"clear terminal"},{cmd:"help",desc:"-"}];e.writeln(`${l}COMMAND         DESCRIPTION\x1B[0m`);for(const{cmd:B,desc:M}of w)e.writeln(`${u}${s(B,14)}\x1B[0m  ${M}`);e.writeln(""),e.writeln(`${l}SHORTCUT        DESCRIPTION\x1B[0m`);const S=[{key:"Tab",desc:"accept autocomplete"},{key:"Shift+Tab",desc:"cycle suggestions"},{key:"← / →",desc:"move cursor left/right"},{key:"Shift+→",desc:"collapse terminal"},{key:"Shift+←",desc:"expand / focus terminal"},{key:"Shift+↑",desc:"focus content pane"},{key:"h/j/k/l",desc:"scroll content pane (when terminal unfocused)"}];for(const{key:B,desc:M}of S)e.writeln(`${u}${s(B,14)}\x1B[0m  ${M}`);return!1}default:return e.writeln(`unknown command: ${n}`),e.write("\r"),!1}}function de(){ee&&(e.write("\x1B[s"),e.write("\x1B[K"),e.write("\x1B[u"),ee=!1,se="")}function Ne(t){if(de(),!t)return;e.write("\x1B[s");const n=m<c.length?`\x1B[${c.length-m}C`:"";e.write(n),e.write(`\x1B[90m${t}\x1B[0m`),e.write("\x1B[u"),ee=!0,se=t}function nt(t){return et.filter(n=>n.startsWith(t))}function rt(t){const n=t.lastIndexOf("/"),k=n===-1?"":t.slice(0,n+1),s=n===-1?t:t.slice(n+1),w=Ie(P,k||".");if(!w)return[];const S="/"+w.join("/"),H=(xe(S)||[]).filter(W=>W.startsWith(s)).map(W=>{const ie=`${S}/${W}`;return k+(Y(ie)?W+"/":W)});return H.sort((W,ie)=>{const te=W.endsWith("/"),R=ie.endsWith("/");return te===R?W.localeCompare(ie):te?-1:1}),H.slice(0,20)}function ue(){const t=c.split(/\s+/),n=t[0]||"",k=t[t.length-1]||"";let s=[];if(t.length===1?s=nt(k):["cd","ls","open"].includes(n)&&(s=rt(k)),re=s,ve=0,re.length){const S=re[0].slice(k.length);Ne(S)}}function st(){!ee||!se||(c=c.slice(0,m)+se+c.slice(m),m+=se.length,m===c.length?e.write(se):je(),de())}function it(){if(!ee||re.length<2)return;ve=(ve+1)%re.length;const t=c.split(/\s+/),n=t[t.length-1]||"",s=re[ve].slice(n.length);Ne(s)}function je(){e.write("\x1B[2K\r"),fe(),e.write(c),m<c.length&&e.write(`\x1B[${c.length-m}D`)}function ze(t){t==="left"&&m>0?(m--,e.write("\x1B[D")):t==="right"&&m<c.length&&(m++,e.write("\x1B[C"))}function ot(t){if(c=c.slice(0,m)+t+c.slice(m),m++,m===c.length)e.write(t);else{const n=c.slice(m-1);e.write(n),e.write(`\x1B[${n.length-1}D`)}}function lt(){if(m===0)return;c=c.slice(0,m-1)+c.slice(m),m--,e.write("\x1B[D");const t=c.slice(m)+" ";e.write(t),e.write(`\x1B[${t.length}D`)}let q="";const at=t=>{if(!E)for(const n of t){const k=n.charCodeAt(0);if(q){if(q+=n,q==="\x1B[C"||q==="\x1B[D"){q="";continue}else q.length>=3&&(q="");continue}if(n==="\x1B"){q="\x1B";continue}switch(k){case 9:{st(),ue();break}case 13:{e.write(`\r
`);const s=c.trim(),w=tt(s);s&&I.push(s),F=I.length,c="",m=0,s==="clear"?fe():w||(e.write(`\r
`),fe());break}case 127:{lt(),ue();break}default:k>=32&&k<127&&(de(),ot(n),ue())}}};ue(),e.onData(at),e.onKey(({key:t,domEvent:n})=>{if(E){n.preventDefault();return}if(n.key==="ArrowUp"||n.key==="ArrowDown"){if(n.preventDefault(),!I.length)return;F===I.length&&(Z=c),n.key==="ArrowUp"&&F>0?F--:n.key==="ArrowDown"&&F<I.length&&F++,c=F===I.length?Z:I[F],m=c.length,je(),de(),ue();return}if(n.key==="Tab"&&n.shiftKey&&ee){n.preventDefault(),it();return}if(n.key==="ArrowLeft"){n.preventDefault(),ze("left");return}if(n.key==="ArrowRight"){n.preventDefault(),ze("right");return}ee&&!["Tab","Shift","Control","Alt","Meta"].includes(n.key)&&de()}),e.writeln("Type help for command list."),e.writeln(""),fe(),$=!0,z=Te.loading.subscribe(t=>{if(E=t,t)V();else{if(!$)return;v(fe)}})}),dt(()=>{z&&z(),T&&clearInterval(T)}),He();var O=Ft();let Q;return Ye(O,a=>ae(x,a),()=>f(x)),Qe(a=>Q=Oe(O,1,"terminal-shell h-full w-full svelte-7500li",null,Q,a),[()=>({focused:_()})],Ee),le(o,O),Ve(r,"focusTerminal",j),Ve(r,"resizeTerminal",K),Ze({focusTerminal:j,resizeTerminal:K})}var Rt=$e('<button class="desktop-toggle hidden md:flex svelte-ktovrz" aria-label="Expand terminal">◀</button> <span class="collapsed-label hidden md:block svelte-ktovrz">terminal</span>',1),Ot=$e('<button class="desktop-toggle hidden md:flex svelte-ktovrz" aria-label="Collapse terminal">▶</button>'),Et=$e('<div><div class="md:hidden flex items-center justify-between px-4 py-3 mobile-header svelte-ktovrz"><span class="mobile-title text-xs svelte-ktovrz">terminal</span> <button class="mobile-toggle svelte-ktovrz" aria-label="Toggle terminal"><!></button></div> <!> <div class="flex-1 overflow-hidden"><div><!></div></div></div>');function Wt(o,r){Je(r,!1);const h=mt(!1);Re(()=>{const i=sessionStorage.getItem("terminalCollapsed");i?h.set(i==="true"):window.innerWidth<768&&(h.set(!0),sessionStorage.setItem("terminalCollapsed","true"))});let l=ce(!1);h.subscribe(i=>ae(l,i));function b(){h.update(i=>{const y=!i;return sessionStorage.setItem("terminalCollapsed",y.toString()),y||setTimeout(()=>{f(p)&&f(u)?.resizeTerminal(),f(u)?.focusTerminal()},300),y})}let u=ce(),p=ce(!1),x=ce(!1);Re(()=>{const i=()=>{ae(p,window.innerWidth<768)},y=v=>{if(!(f(p)||!v.shiftKey)){if(v.key==="ArrowRight"&&!f(l))v.preventDefault(),v.stopImmediatePropagation(),b();else if(v.key==="ArrowLeft")f(l)?(v.preventDefault(),v.stopImmediatePropagation(),b()):(v.preventDefault(),v.stopImmediatePropagation(),f(u)?.focusTerminal());else if(v.key==="ArrowUp"&&!f(l)){v.preventDefault(),v.stopImmediatePropagation();const O=document.activeElement;O&&O.blur()}}};i(),window.addEventListener("resize",i),window.addEventListener("keydown",y,!0);const V=v=>{if(f(p))return;const O=document.activeElement;if(O&&O.classList.contains("xterm-helper-textarea"))return;const Q=document.querySelector("main"),a=60;switch(v.key){case"j":(Q??window).scrollBy({top:2*a,behavior:"smooth"});break;case"k":(Q??window).scrollBy({top:-2*a,behavior:"smooth"});break;case"h":(Q??window).scrollBy({left:-a,behavior:"smooth"});break;case"l":(Q??window).scrollBy({left:a,behavior:"smooth"});break;default:return}v.preventDefault()};return window.addEventListener("keydown",V),()=>{window.removeEventListener("resize",i),window.removeEventListener("keydown",y,!0),window.removeEventListener("keydown",V)}}),He();var _=Et();let g;var A=pe(_),j=Be(pe(A),2),K=pe(j);{var X=i=>{var y=Ke("▼");le(i,y)},E=i=>{var y=Ke("▲");le(i,y)};Pe(K,i=>{f(l)?i(X):i(E,!1)})}ge(j),ge(A);var T=Be(A,2);{var J=i=>{var y=Rt(),V=St(y);Ct(2),Fe("click",V,b),le(i,y)},G=(i,y)=>{{var V=v=>{var O=Ot();Fe("click",O,b),le(v,O)};Pe(i,v=>{f(p)||v(V)},y)}};Pe(T,i=>{!f(p)&&f(l)?i(J):i(G,!1)})}var z=Be(T,2),$=pe(z);let d;var C=pe($);Ye(Bt(C,{get isFocused(){return f(x)},set isFocused(i){ae(x,i)},$$legacy:!0}),i=>ae(u,i),()=>f(u)),ge($),ge(z),ge(_),Qe((i,y)=>{g=Oe(_,1,"h-full flex flex-col desktop-wrapper svelte-ktovrz",null,g,i),d=Oe($,1,"terminal-content body svelte-ktovrz",null,d,y)},[()=>({"desktop-collapsed":!f(p)&&f(l),focused:f(x)}),()=>({"mobile-collapsed":f(p)&&f(l)})],Ee),Fe("click",j,b),le(o,_),Ze()}export{Wt as default};
