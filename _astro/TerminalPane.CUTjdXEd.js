import{f as ft,o as Re,a as dt,i as He,g as Ye,_ as Ve,h as xe,w as ut,l as ht,j as mt,c as Oe,k as bt,b as Pe}from"./router.w6Jd3Pfz.js";import{a0 as Xe,t as pt,a1 as gt,a2 as wt,Z as Ee,T as f,a3 as vt,a4 as yt,p as _t,R as ae,D as xt,a5 as kt,a6 as It,a7 as $t,a8 as Dt,S as ce,a9 as St,y as Qe,O as De,X as Ze,Q as le,B as Je,Y as Fe,W as pe,U as Be,V as ge,aa as Ge,P as Ct,ab as At}from"./template.CUcBOH1Q.js";/* empty css                        */function Ke(o,r,h){var l=Xe(o,r);l&&l.set&&(o[r]=h,pt(()=>{o[r]=null}))}function ze(o){return o.ctx?.d??!1}function Tt(o,r,h,l){var b=!$t||(h&Dt)!==0,u=(h&St)!==0,p=!1,k;[k,p]=ft(()=>o[r]);var _=kt in o||It in o,g=(Xe(o,r)?.set??(_&&r in o&&(d=>o[r]=d)))||void 0,L=l,N=!0,G=!1,X=()=>(G=!0,N&&(N=!1,L=l),L);k===void 0&&l!==void 0&&(g&&b&&gt(),k=X(),g&&g(k));var E;if(b)E=()=>{var d=o[r];return d===void 0?X():(N=!0,G=!1,d)};else{var P=Ee(()=>o[r]);P.f|=wt,E=()=>{var d=f(P);return d!==void 0&&(L=void 0),d===void 0?L:d}}if(g){var Q=o.$$legacy;return function(d,C){return arguments.length>0?((!b||!C||Q||p)&&g(C?E():d),d):E()}}var V=!1,q=ce(k),D=vt(()=>{var d=E(),C=f(q);return V?(V=!1,C):q.v=d});return f(D),D.equals=yt,function(d,C){if(arguments.length>0){const i=C?f(D):b&&u?_t(d):d;if(!D.equals(i)){if(V=!0,ae(q,i),G&&L!==void 0&&(L=i),ze(D))return d;xt(()=>f(D))}return d}return ze(D)?D.v:f(D)}}function Lt(o){const r={name:"/",type:"dir",path:"/",children:{}};for(const h of o){const b=h.replace(/^\.\/?/,"").split("/");let u=r,p="";for(let k=0;k<b.length;k++){const _=b[k];p+="/"+_;const g=_.includes(".");u.children||(u.children={}),u.children[_]||(u.children[_]={name:_,type:g?"file":"dir",path:p},g||(u.children[_].children={})),u=u.children[_]}}return r}const Pt=Object.keys({"/src/content/about.md":0,"/src/content/algo/about.md":0,"/src/content/algo/contests/about.md":0,"/src/content/algo/contests/arc-205.md":0,"/src/content/algo/notes/about.md":0,"/src/content/algo/problems/about.md":0,"/src/content/algo/problems/cf-105633l.md":0,"/src/content/algo/problems/cf-1967c.md":0,"/src/content/algo/problems/cf-2056f1.md":0,"/src/content/algo/problems/cf-2056f2.md":0,"/src/content/algo/problems/cf-2068e.md":0,"/src/content/algo/problems/cf-2113e.md":0,"/src/content/algo/problems/cf-468d.md":0,"/src/content/algo/theory/about.md":0,"/src/content/algo/theory/detect_k_neighbours_bip.md":0,"/src/content/algo/theory/offline_incremental_scc.md":0,"/src/content/algo/theory/suffix_tree_funny_construction.md":0,"/src/content/games/about.md":0,"/src/content/games/zetamac.html":0,"/src/content/home.md":0,"/src/content/misc/about.md":0,"/src/content/misc/void.md":0});let ke=null;function Ft(){if(ke)return ke;const o=Pt.map(r=>r.replace(/^\/src\/content\//,"").replace(/\.md$/,".html"));return ke=Lt(o),ke}function Se(o){const r=o.split("/").filter(Boolean);let h=Ft();for(const l of r){if(!h.children||!h.children[l])return null;h=h.children[l]}return h}function Ie(o){const r=Se(o);if(!r||r.type!=="dir"||!r.children)return null;const h=[],l=[];for(const[b,u]of Object.entries(r.children))u.type==="dir"?h.push(b):l.push(b);return h.sort(),l.sort(),[...h,...l]}function Ue(o){const r=Se(o);return!!r&&r.type==="file"}function Y(o){const r=Se(o);return!!r&&r.type==="dir"}function $e(o,r){if(r==="/")return[];const h=r.startsWith("/"),l=r.split("/").filter(Boolean),b=h?[]:[...o];for(const p of l)p===".."?b.pop():p!=="."&&b.push(p);return Se("/"+b.join("/"))?b:null}var Bt=De("<div></div>");function Rt(o,r){Qe(r,!1);const l="\x1B[38;2;100;255;218m",u="\x1B[38;2;255;230;120m",p="\x1B[37m";let k=ce(),_=Tt(r,"isFocused",12,!0),g,L;function N(){g?.focus()}function G(){L?.fit()}let X={},E=!1,P=null;const Q=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];let V=0,q=null,D=!1;function d(a){return X[a]??1/0}const C={};function i(a,j){const e=C[a];if(e&&(j?e.max!==void 0:e.min!==void 0))return j?typeof e.max=="number"?e.max:-1/0:typeof e.min=="number"?e.min:1/0;let S=j?-1/0:1/0;const z=Ie(a)||[];for(const F of z){const A=a==="/"?"/"+F:`${a}/${F}`;let I;Y(A)?I=i(A,j):A.endsWith(".html")?I=d(A):I=j?-1/0:1/0,S=j?Math.max(S,I):Math.min(S,I)}return C[a]||(C[a]={}),j?C[a].max=S:C[a].min=S,S}function y(a,j,e){const S=e==="desc";return[...j].sort((z,F)=>{const A=a==="/"?"/"+z:`${a}/${z}`,I=a==="/"?"/"+F:`${a}/${F}`;let B=Y(A)?i(A,S):d(A),J=Y(I)?i(I,S):d(I);Number.isFinite(B)||(B=S?-1/0:1/0),Number.isFinite(J)||(J=S?-1/0:1/0);const c=S?J-B:B-J;return c===0?z.localeCompare(F):c})}function K(){P||!g||(g.write("\r\x1B[2K"),g.write(`${Q[0]} Loading...`),P=setInterval(()=>{V=(V+1)%Q.length,g?.write(`\r\x1B[2K${Q[V]} Loading...`)},100))}function w(a){P&&(clearInterval(P),P=null),g&&(g.write("\r\x1B[K"),g.write(`${u}✓ Page loaded successfully\x1B[0m\r
`),g.write(`\r
`),a&&a())}Re(async()=>{_(!0);try{const t=await fetch("/vfs-date-index.json",{cache:"force-cache"});t.ok&&(X=await t.json())}catch{}const{Terminal:a}=await Ve(async()=>{const{Terminal:t}=await import("./xterm.CszRhTCM.js").then(n=>n.x);return{Terminal:t}},[]),{FitAddon:j}=await Ve(async()=>{const{FitAddon:t}=await import("./addon-fit.xGgdMdBE.js").then(n=>n.a);return{FitAddon:t}},[]),e=new a({theme:{background:"#0a0a0a",foreground:"#e0e0e0",cursor:"#64ffda",cursorAccent:"#0a0a0a",selectionBackground:"rgba(100, 255, 218, 0.2)",selectionForeground:"#e0e0e0",black:"#0a0a0a",red:"#ff6b6b",green:"#51cf66",yellow:"#ffd43b",blue:"#339af0",magenta:"#f06595",cyan:"#64ffda",white:"#e0e0e0",brightBlack:"#495057",brightRed:"#ff8787",brightGreen:"#69db7c",brightYellow:"#ffe066",brightBlue:"#4dabf7",brightMagenta:"#f783ac",brightCyan:"#7fecec",brightWhite:"#f8f9fa"},cursorBlink:!1,fontFamily:"IBM Plex Mono, SF Mono, Menlo, Monaco, Consolas, monospace",fontSize:14,fontWeight:"400",letterSpacing:.5,cols:80,rows:24,convertEol:!0,allowProposedApi:!0,smoothScrollDuration:120}),S=new j;L=S,e.loadAddon(S),e.open(f(k)),g=e,S.fit(),e.focus();function z(t){_(t)}e.textarea?.addEventListener("focus",()=>z(!0)),e.textarea?.addEventListener("blur",()=>z(!1));let F=[],A=["/"],I=[],B=0,J="",c="",m=0;const et=["ls","cd","open","pop","clear","help","skin","skins"];let se=[],we=0,ee=!1,re="";const fe=()=>{const t="/"+F.join("/");e.write(`${l}${t}\x1B[0m $ `)};function tt(t){if(!t)return!1;const[n,...x]=t.split(/\s+/);switch(n){case"ls":{const s=x.filter(R=>R.startsWith("-")),v=s.includes("-R")||s.includes("-r"),$=s.includes("-v"),T=x.find(R=>!R.startsWith("-"))||".",M=$e(F,T);if(!M)return e.writeln(`ls: cannot access '${T}': No such file or directory`),!1;const H="/"+M.join("/");if(Ue(H))return e.writeln(`${Y(H)?p:u}${T}\x1B[0m`),!1;const W=s.includes("-d")||s.includes("-dl"),ie=s.includes("-de"),te=W?"desc":ie?"asc":null;if(v){const R=[],he=(oe,Ce="")=>{let ve="/"+oe.join("/"),ne=Ie(ve)||[];te&&(ne=y(ve,ne,te)),ne.forEach((me,Ae)=>{const be=Ae===ne.length-1,ye=be?"└─ ":"├─ ",Te=[...oe,me],Me="/"+Te.join("/"),Le=Y(Me),ct=Le?p:u;let We="";if($&&!Le){const _e=d(Me);Number.isFinite(_e)&&(We=`\x1B[2m[${new Date(_e).toISOString().slice(0,10)}]\x1B[0m `)}if(R.push(`${Ce}${ye}${We}${ct}${me}\x1B[0m`),Le){const _e=Ce+(be?"   ":"│  ");he(Te,_e)}})};he(M);for(const oe of R)e.writeln(oe)}else{let R=Ie(H)||[];te&&(R=y(H,R,te)),R.forEach((he,oe)=>{const ve=oe===R.length-1?"└─ ":"├─ ",ne=`${H}/${he}`,me=Y(ne),Ae=me?p:u;let be="";if($&&!me){const ye=d(ne.replace(/\.md$/,".html"));Number.isFinite(ye)&&(be=`\x1B[2m[${new Date(ye).toISOString().slice(0,10)}]\x1B[0m `)}e.writeln(`${ve}${be}${Ae}${he}\x1B[0m`)})}return!1}case"cd":{const s=x[0]||"/",v=$e(F,s);if(!v){e.writeln(`cd: no such directory: ${s}`);break}const $="/"+v.join("/");if(!Y($)){e.writeln(`cd: not a directory: ${s}`);break}return F=v,!1}case"open":{const s=x[0];if(!s)return e.writeln("open: missing file"),!1;const v=$e(F,s);if(v&&Ue("/"+v.join("/"))){const $="/"+v.join("/");return mt(xe)===$?(e.writeln(`Already viewing: ${s}`),!1):(A.push($),xe.push($),!0)}else return e.writeln(`open: file not found: ${s}`),!1}case"pop":if(A.length>1){A.pop();const s=A[A.length-1];return xe.push(s),!0}else return e.writeln("pop: history empty"),!1;case"clear":return e.clear(),!1;case"skins":{const s=ht();return s.forEach((v,$)=>{const T=$===s.length-1?"└─ ":"├─ ";e.writeln(T+v)}),!1}case"skin":{const s=x[0];if(!s)e.writeln("Usage: skin <name>");else try{ut(s),e.writeln(`Now wearing ${s}`)}catch(v){e.writeln(String(v))}return!1}case"help":{const s=(T,M)=>T+" ".repeat(Math.max(0,M-T.length)),v=[{cmd:"ls [-r] [-d|-dl|-de] [-v] [path]",desc:"list directory (tree with -r, date sort, verbose dates)"},{cmd:"cd <dir>",desc:"change directory"},{cmd:"open <file>",desc:"open file in content pane"},{cmd:"skins",desc:"list available skins"},{cmd:"skin <name>",desc:"wear skin"},{cmd:"pop",desc:"go back"},{cmd:"clear",desc:"clear terminal"},{cmd:"help",desc:"-"}];e.writeln(`${l}COMMAND         DESCRIPTION\x1B[0m`);for(const{cmd:T,desc:M}of v)e.writeln(`${u}${s(T,14)}\x1B[0m  ${M}`);e.writeln(""),e.writeln(`${l}SHORTCUT        DESCRIPTION\x1B[0m`);const $=[{key:"Tab",desc:"accept autocomplete"},{key:"Shift+Tab",desc:"cycle suggestions"},{key:"← / →",desc:"move cursor left/right"},{key:"Shift+→",desc:"collapse terminal"},{key:"Shift+←",desc:"expand / focus terminal"},{key:"Shift+↑",desc:"focus content pane"},{key:"h/j/k/l",desc:"scroll content pane (when terminal unfocused)"}];for(const{key:T,desc:M}of $)e.writeln(`${u}${s(T,14)}\x1B[0m  ${M}`);return!1}default:return e.writeln(`unknown command: ${n}`),e.write("\r"),!1}return!1}function de(){ee&&(e.write("\x1B[s"),e.write("\x1B[K"),e.write("\x1B[u"),ee=!1,re="")}function je(t){if(de(),!t)return;e.write("\x1B[s");const n=m<c.length?`\x1B[${c.length-m}C`:"";e.write(n),e.write(`\x1B[90m${t}\x1B[0m`),e.write("\x1B[u"),ee=!0,re=t}function nt(t){return et.filter(n=>n.startsWith(t))}function st(t){const n=t.lastIndexOf("/"),x=n===-1?"":t.slice(0,n+1),s=n===-1?t:t.slice(n+1),v=$e(F,x||".");if(!v)return[];const $="/"+v.join("/"),H=(Ie($)||[]).filter(W=>W.startsWith(s)).map(W=>{const ie=`${$}/${W}`;return x+(Y(ie)?W+"/":W)});return H.sort((W,ie)=>{const te=W.endsWith("/"),R=ie.endsWith("/");return te===R?W.localeCompare(ie):te?-1:1}),H.slice(0,20)}function ue(){const t=c.split(/\s+/),n=t[0]||"",x=t[t.length-1]||"";let s=[];if(t.length===1?s=nt(x):["cd","ls","open"].includes(n)&&(s=st(x)),se=s,we=0,se.length){const $=se[0].slice(x.length);je($)}}function rt(){!ee||!re||(c=c.slice(0,m)+re+c.slice(m),m+=re.length,m===c.length?e.write(re):Ne(),de())}function it(){if(!ee||se.length<2)return;we=(we+1)%se.length;const t=c.split(/\s+/),n=t[t.length-1]||"",s=se[we].slice(n.length);je(s)}function Ne(){e.write("\x1B[2K\r"),fe(),e.write(c),m<c.length&&e.write(`\x1B[${c.length-m}D`)}function qe(t){t==="left"&&m>0?(m--,e.write("\x1B[D")):t==="right"&&m<c.length&&(m++,e.write("\x1B[C"))}function ot(t){if(c=c.slice(0,m)+t+c.slice(m),m++,m===c.length)e.write(t);else{const n=c.slice(m-1);e.write(n),e.write(`\x1B[${n.length-1}D`)}}function lt(){if(m===0)return;c=c.slice(0,m-1)+c.slice(m),m--,e.write("\x1B[D");const t=c.slice(m)+" ";e.write(t),e.write(`\x1B[${t.length}D`)}let U="";const at=t=>{if(!E)for(const n of t){const x=n.charCodeAt(0);if(U){if(U+=n,U==="\x1B[C"||U==="\x1B[D"){U="";continue}else U.length>=3&&(U="");continue}if(n==="\x1B"){U="\x1B";continue}switch(x){case 9:{rt(),ue();break}case 13:{e.write(`\r
`);const s=c.trim(),v=tt(s);s&&I.push(s),B=I.length,c="",m=0,s==="clear"?fe():v||(e.write(`\r
`),fe());break}case 127:{lt(),ue();break}default:x>=32&&x<127&&(de(),ot(n),ue())}}};ue(),e.onData(at),e.onKey(({key:t,domEvent:n})=>{if(E){n.preventDefault();return}if(n.key==="ArrowUp"||n.key==="ArrowDown"){if(n.preventDefault(),!I.length)return;B===I.length&&(J=c),n.key==="ArrowUp"&&B>0?B--:n.key==="ArrowDown"&&B<I.length&&B++,c=B===I.length?J:I[B],m=c.length,Ne(),de(),ue();return}if(n.key==="Tab"&&n.shiftKey&&ee){n.preventDefault(),it();return}if(n.key==="ArrowLeft"){n.preventDefault(),qe("left");return}if(n.key==="ArrowRight"){n.preventDefault(),qe("right");return}ee&&!["Tab","Shift","Control","Alt","Meta"].includes(n.key)&&de()}),e.writeln("Type help for command list."),e.writeln(""),fe(),D=!0,q=xe.loading.subscribe(t=>{if(E=t,t)K();else{if(!D)return;w(fe)}})}),dt(()=>{q&&q(),P&&clearInterval(P)}),He();var O=Bt();let Z;return Ye(O,a=>ae(k,a),()=>f(k)),Ze(a=>Z=Oe(O,1,"terminal-shell h-full w-full svelte-7500li",null,Z,a),[()=>({focused:_()})],Ee),le(o,O),Ke(r,"focusTerminal",N),Ke(r,"resizeTerminal",G),Je({focusTerminal:N,resizeTerminal:G})}var Ot=De('<button class="desktop-toggle hidden md:flex svelte-1qxssin" aria-label="Expand terminal">◀</button> <span class="collapsed-label hidden md:block svelte-1qxssin">terminal</span>',1),Et=De('<button class="desktop-toggle hidden md:flex svelte-1qxssin" aria-label="Collapse terminal">▶</button>'),jt=De('<div><div class="md:hidden flex items-center justify-between px-4 py-3 mobile-header svelte-1qxssin"><span class="mobile-title text-xs svelte-1qxssin">terminal</span> <button class="mobile-toggle svelte-1qxssin" aria-label="Toggle terminal"><!></button></div> <!> <div class="flex-1 overflow-hidden"><div><!></div></div></div>');function Vt(o,r){Qe(r,!1);const h=bt(!1);Re(()=>{const i=sessionStorage.getItem("terminalCollapsed");i?h.set(i==="true"):window.innerWidth<768&&(h.set(!0),sessionStorage.setItem("terminalCollapsed","true"))});let l=ce(!1);h.subscribe(i=>ae(l,i));function b(){h.update(i=>{const y=!i;return sessionStorage.setItem("terminalCollapsed",y.toString()),y||setTimeout(()=>{f(p)&&f(u)?.resizeTerminal(),f(u)?.focusTerminal()},300),y})}let u=ce(),p=ce(typeof window<"u"?window.innerWidth<768:!1),k=ce(!1);Re(()=>{const i=()=>{ae(p,window.innerWidth<768),setTimeout(()=>{f(u)?.resizeTerminal()},100)},y=w=>{if(!(f(p)||!w.shiftKey)){if(w.key==="ArrowRight"&&!f(l))w.preventDefault(),w.stopImmediatePropagation(),b();else if(w.key==="ArrowLeft")f(l)?(w.preventDefault(),w.stopImmediatePropagation(),b()):(w.preventDefault(),w.stopImmediatePropagation(),f(u)?.focusTerminal());else if(w.key==="ArrowUp"&&!f(l)){w.preventDefault(),w.stopImmediatePropagation();const O=document.activeElement;O&&O.blur()}}};i(),window.addEventListener("resize",i),window.addEventListener("keydown",y,!0);const K=w=>{if(f(p))return;const O=document.activeElement;if(O&&O.classList.contains("xterm-helper-textarea"))return;const Z=document.querySelector("main"),a=60;switch(w.key){case"j":(Z??window).scrollBy({top:2*a,behavior:"smooth"});break;case"k":(Z??window).scrollBy({top:-2*a,behavior:"smooth"});break;case"h":(Z??window).scrollBy({left:-a,behavior:"smooth"});break;case"l":(Z??window).scrollBy({left:a,behavior:"smooth"});break;default:return}w.preventDefault()};return window.addEventListener("keydown",K),()=>{window.removeEventListener("resize",i),window.removeEventListener("keydown",y,!0),window.removeEventListener("keydown",K)}}),He();var _=jt();let g;var L=pe(_),N=Be(pe(L),2),G=pe(N);{var X=i=>{var y=Ge("▼");le(i,y)},E=i=>{var y=Ge("▲");le(i,y)};Pe(G,i=>{f(l)?i(X):i(E,!1)})}ge(N),ge(L);var P=Be(L,2);{var Q=i=>{var y=Ot(),K=Ct(y);At(2),Fe("click",K,b),le(i,y)},V=(i,y)=>{{var K=w=>{var O=Et();Fe("click",O,b),le(w,O)};Pe(i,w=>{f(p)||w(K)},y)}};Pe(P,i=>{!f(p)&&f(l)?i(Q):i(V,!1)})}var q=Be(P,2),D=pe(q);let d;var C=pe(D);Ye(Rt(C,{get isFocused(){return f(k)},set isFocused(i){ae(k,i)},$$legacy:!0}),i=>ae(u,i),()=>f(u)),ge(D),ge(q),ge(_),Ze((i,y)=>{g=Oe(_,1,"h-full flex flex-col desktop-wrapper svelte-1qxssin",null,g,i),d=Oe(D,1,"terminal-content body svelte-1qxssin",null,d,y)},[()=>({"desktop-collapsed":!f(p)&&f(l),focused:f(k)}),()=>({"mobile-collapsed":f(p)&&f(l)})],Ee),Fe("click",N,b),le(o,_),Je()}export{Vt as default};
