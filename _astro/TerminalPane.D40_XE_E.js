import{o as $e,i as Oe,b as Ee,_ as Le,w as Je,l as Qe,c as Se,s as Ae,a as Xe,d as xe}from"./router.BRazo5Qd.js";import{C as Ye,t as Ze,y as je,D as be,E as V,F as l,G as Be,I as K,B as Ne,J as ie,K as ze,L as _e,M as ne,N as Ie,O as se,P as Fe,Q as et,R as tt}from"./template.WFYKrgdx.js";/* empty css                        */function Pe(h,o,p){var c=Ye(h,o);c&&c.set&&(h[o]=p,Ze(()=>{h[o]=null}))}function nt(h){const o={name:"/",type:"dir",path:"/",children:{}};for(const p of h){const y=p.replace(/^\.\/?/,"").split("/");let f=o,b="";for(let D=0;D<y.length;D++){const _=y[D];b+="/"+_;const L=_.includes(".");f.children||(f.children={}),f.children[_]||(f.children[_]={name:_,type:L?"file":"dir",path:b},L||(f.children[_].children={})),f=f.children[_]}}return o}const st=Object.keys({"/src/content/about.md":0,"/src/content/algo/about.md":0,"/src/content/algo/contests/about.md":0,"/src/content/algo/contests/arc-205.md":0,"/src/content/algo/notes/about.md":0,"/src/content/algo/problems/about.md":0,"/src/content/algo/problems/cf-1967c.md":0,"/src/content/algo/problems/cf-2056f1.md":0,"/src/content/algo/problems/cf-2056f2.md":0,"/src/content/algo/problems/cf-2113e.md":0,"/src/content/algo/problems/cf-468d.md":0,"/src/content/algo/theory/about.md":0,"/src/content/algo/theory/detect_k_neighbours_bip.md":0,"/src/content/algo/theory/offline_incremental_scc.md":0,"/src/content/algo/theory/suffix_tree_funny_construction.md":0,"/src/content/games/about.md":0,"/src/content/games/zetamac.html":0,"/src/content/home.md":0,"/src/content/misc/about.md":0,"/src/content/misc/void.md":0});let me=null;function it(){if(me)return me;const h=st.map(o=>o.replace(/^\/src\/content\//,"").replace(/\.md$/,".html"));return me=nt(h),me}function we(h){const o=h.split("/").filter(Boolean);let p=it();for(const c of o){if(!p.children||!p.children[c])return null;p=p.children[c]}return p}function he(h){const o=we(h);if(!o||o.type!=="dir"||!o.children)return null;const p=[],c=[];for(const[y,f]of Object.entries(o.children))f.type==="dir"?p.push(y):c.push(y);return p.sort(),c.sort(),[...p,...c]}function Re(h){const o=we(h);return!!o&&o.type==="file"}function R(h){const o=we(h);return!!o&&o.type==="dir"}function pe(h,o){if(o==="/")return[];const p=o.startsWith("/"),c=o.split("/").filter(Boolean),y=p?[]:[...h];for(const b of c)b===".."?y.pop():b!=="."&&y.push(b);return we("/"+y.join("/"))?y:null}var ot=be("<div></div>");function rt(h,o){je(o,!1);const c="\x1B[38;2;100;255;218m",f="\x1B[38;2;255;230;120m",b="\x1B[37m";let D=ie(),_=ie(!0),L,W;function oe(){L?.focus()}function re(){W?.fit()}let ce={};function S(a){return ce[a]??1/0}const O={};function U(a,t){const e=O[a];if(e&&(t?e.max!==void 0:e.min!==void 0))return t?typeof e.max=="number"?e.max:-1/0:typeof e.min=="number"?e.min:1/0;let d=t?-1/0:1/0;const r=he(a)||[];for(const u of r){const v=a==="/"?"/"+u:`${a}/${u}`;let m;R(v)?m=U(v,t):v.endsWith(".html")?m=S(v):m=t?-1/0:1/0,d=t?Math.max(d,m):Math.min(d,m)}return O[a]||(O[a]={}),t?O[a].max=d:O[a].min=d,d}function q(a,t,e){const d=e==="desc";return[...t].sort((r,u)=>{const v=a==="/"?"/"+r:`${a}/${r}`,m=a==="/"?"/"+u:`${a}/${u}`;let I=R(v)?U(v,d):S(v),j=R(m)?U(m,d):S(m);Number.isFinite(I)||(I=d?-1/0:1/0),Number.isFinite(j)||(j=d?-1/0:1/0);const x=d?j-I:I-j;return x===0?r.localeCompare(u):x})}$e(async()=>{V(_,!0);try{const i=await fetch("/vfs-date-index.json",{cache:"force-cache"});i.ok&&(ce=await i.json())}catch{}const{Terminal:a}=await Le(async()=>{const{Terminal:i}=await import("./xterm.CszRhTCM.js").then(s=>s.x);return{Terminal:i}},[]),{FitAddon:t}=await Le(async()=>{const{FitAddon:i}=await import("./addon-fit.xGgdMdBE.js").then(s=>s.a);return{FitAddon:i}},[]),e=new a({theme:{background:"#0f0f0f",foreground:"#d0d0d0",cursor:"rgb(100,255,218)"},fontFamily:"IBM Plex Mono, Menlo, monospace",fontSize:13,letterSpacing:.25,cols:80,rows:24,convertEol:!0}),d=new t;W=d,e.loadAddon(d),e.open(l(D)),L=e,d.fit(),e.focus();function r(i){V(_,i)}e.textarea?.addEventListener("focus",()=>r(!0)),e.textarea?.addEventListener("blur",()=>r(!1));let u=[],v=["/"],m=[],I=0,j="",x="";const Me=["ls","cd","open","pop","clear","help","skin","skins"];let B=[],le=0,N=!1,Q="";const ae=()=>{const i="/"+u.join("/");e.write(`${c}${i}\x1B[0m $ `)};function We(i){if(!i)return;const[s,...g]=i.split(/\s+/);switch(s){case"ls":{const n=g.filter(A=>A.startsWith("-")),w=n.includes("-R")||n.includes("-r"),k=n.includes("-v"),$=g.find(A=>!A.startsWith("-"))||".",C=pe(u,$);if(!C){e.writeln(`ls: cannot access '${$}': No such file or directory`);break}const P="/"+C.join("/");if(Re(P)){e.writeln(`${R(P)?b:f}${$}\x1B[0m`);break}const T=n.includes("-d")||n.includes("-dl"),G=n.includes("-de"),z=T?"desc":G?"asc":null;if(w){const A=[],Z=(H,ge="")=>{let de="/"+H.join("/"),M=he(de)||[];z&&(M=q(de,M,z)),M.forEach((ee,ve)=>{const te=ve===M.length-1,fe=te?"└─ ":"├─ ",ye=[...H,ee],Ce="/"+ye.join("/"),ke=R(Ce),qe=ke?b:f;let Te="";if(k&&!ke){const ue=S(Ce);Number.isFinite(ue)&&(Te=`\x1B[2m[${new Date(ue).toISOString().slice(0,10)}]\x1B[0m `)}if(A.push(`${ge}${fe}${Te}${qe}${ee}\x1B[0m`),ke){const ue=ge+(te?"   ":"│  ");Z(ye,ue)}})};Z(C);for(const H of A)e.writeln(H)}else{let A=he(P)||[];z&&(A=q(P,A,z)),A.forEach((Z,H)=>{const de=H===A.length-1?"└─ ":"├─ ",M=`${P}/${Z}`,ee=R(M),ve=ee?b:f;let te="";if(k&&!ee){const fe=S(M.replace(/\.md$/,".html"));Number.isFinite(fe)&&(te=`\x1B[2m[${new Date(fe).toISOString().slice(0,10)}]\x1B[0m `)}e.writeln(`${de}${te}${ve}${Z}\x1B[0m`)})}break}case"cd":{const n=g[0]||"/",w=pe(u,n);if(!w){e.writeln(`cd: no such directory: ${n}`);break}const k="/"+w.join("/");if(!R(k)){e.writeln(`cd: not a directory: ${n}`);break}u=w;break}case"open":{const n=g[0];if(!n){e.writeln("open: missing file");break}const w=pe(u,n);if(w&&Re("/"+w.join("/"))){const k="/"+w.join("/");v.push(k),Se.push(k)}else e.writeln(`open: file not found: ${n}`);break}case"pop":{if(v.length>1){v.pop();const n=v[v.length-1];Se.push(n)}else e.writeln("pop: history empty");break}case"clear":e.clear();break;case"skins":{const n=Qe();n.forEach((w,k)=>{const $=k===n.length-1?"└─ ":"├─ ";e.writeln($+w)});break}case"skin":{const n=g[0];if(!n)e.writeln("Usage: skin <name>");else try{Je(n),e.writeln(`Now wearing ${n}`)}catch(w){e.writeln(String(w))}break}case"help":{const n=($,C)=>$+" ".repeat(Math.max(0,C-$.length)),w=[{cmd:"ls [-r] [-d|-dl|-de] [-v] [path]",desc:"list directory (tree with -r, date sort, verbose dates)"},{cmd:"cd <dir>",desc:"change directory"},{cmd:"open <file>",desc:"open file in content pane"},{cmd:"skins",desc:"list available skins"},{cmd:"skin <name>",desc:"wear skin"},{cmd:"pop",desc:"go back"},{cmd:"clear",desc:"clear terminal"},{cmd:"help",desc:"-"}];e.writeln(`${c}COMMAND         DESCRIPTION\x1B[0m`);for(const{cmd:$,desc:C}of w)e.writeln(`${f}${n($,14)}\x1B[0m  ${C}`);e.writeln(""),e.writeln(`${c}SHORTCUT        DESCRIPTION\x1B[0m`);const k=[{key:"Tab",desc:"accept autocomplete"},{key:"← / →",desc:"cycle suggestions"},{key:"Shift+→",desc:"collapse terminal"},{key:"Shift+←",desc:"expand / focus terminal"},{key:"Shift+↑",desc:"focus content pane"},{key:"h/j/k/l",desc:"scroll content pane (when terminal unfocused)"}];for(const{key:$,desc:C}of k)e.writeln(`${f}${n($,14)}\x1B[0m  ${C}`);break}default:e.writeln(`unknown command: ${s}`),e.write("\r")}}function X(){N&&(e.write("\x1B[s"),e.write("\x1B[K"),e.write("\x1B[u"),N=!1,Q="")}function De(i){X(),i&&(e.write("\x1B[s"),e.write(`\x1B[90m${i}\x1B[0m`),e.write("\x1B[u"),N=!0,Q=i)}function Ge(i){return Me.filter(s=>s.startsWith(i))}function He(i){const s=i.lastIndexOf("/"),g=s===-1?"":i.slice(0,s+1),n=s===-1?i:i.slice(s+1),w=pe(u,g||".");if(!w)return[];const k="/"+w.join("/"),P=(he(k)||[]).filter(T=>T.startsWith(n)).map(T=>{const G=`${k}/${T}`;return g+(R(G)?T+"/":T)});return P.sort((T,G)=>{const z=T.endsWith("/"),A=G.endsWith("/");return z===A?T.localeCompare(G):z?-1:1}),P.slice(0,20)}function Y(){const i=x.split(/\s+/),s=i[0]||"",g=i[i.length-1]||"";let n=[];if(i.length===1?n=Ge(g):["cd","ls","open"].includes(s)&&(n=He(g)),B=n,le=0,B.length){const k=B[0].slice(g.length);De(k)}}function Ke(){!N||!Q||(x+=Q,e.write(Q),X())}function Ve(i){if(!N||B.length<2)return;le=(le+i+B.length)%B.length;const s=x.split(/\s+/),g=s[s.length-1]||"",w=B[le].slice(g.length);De(w)}let F="";const Ue=i=>{for(const s of i){const g=s.charCodeAt(0);if(F){if(F+=s,F==="\x1B[C"||F==="\x1B[D"){F="";continue}else F.length>=3&&(F="");continue}if(s==="\x1B"){F="\x1B";continue}switch(g){case 9:{Ke(),Y();break}case 13:{e.write(`\r
`);const n=x.trim();We(n),n&&m.push(n),I=m.length,x="",n==="clear"||e.write(`\r
`),ae();break}case 127:{x.length&&(x=x.slice(0,-1),e.write("\b \b")),Y();break}default:g>=32&&g<127&&(X(),x+=s,e.write(s),Y())}}};Y(),e.onData(Ue),e.onKey(({key:i,domEvent:s})=>{if(s.key==="ArrowUp"||s.key==="ArrowDown"){if(s.preventDefault(),!m.length)return;I===m.length&&(j=x),s.key==="ArrowUp"&&I>0?I--:s.key==="ArrowDown"&&I<m.length&&I++;const g=I===m.length?j:m[I];e.write("\x1B[2K\r"),ae(),x=g,e.write(x),X(),Y();return}N&&(s.key==="ArrowRight"||s.key==="ArrowLeft")?(s.preventDefault(),Ve(s.key==="ArrowRight"?1:-1)):N&&!["Tab","Shift","Control","Alt","Meta","ArrowRight","ArrowLeft"].includes(s.key)&&X()}),e.writeln("Type help for command list."),ae()}),Oe();var E=ot();let J;return Ee(E,a=>V(D,a),()=>l(D)),Be(a=>J=Ae(E,1,"terminal-shell h-full w-full svelte-1asehid",null,J,a),[()=>({focused:l(_)})],ze),K(h,E),Pe(o,"focusTerminal",oe),Pe(o,"resizeTerminal",re),Ne({focusTerminal:oe,resizeTerminal:re})}var ct=be('<button class="desktop-toggle hidden md:flex svelte-twihms" aria-label="Expand terminal">◀</button> <span class="collapsed-label hidden md:block svelte-twihms">terminal</span>',1),lt=be('<button class="desktop-toggle hidden md:flex svelte-twihms" aria-label="Collapse terminal">▶</button>'),at=be('<div><div class="md:hidden flex items-center justify-between px-3 py-2 border-b border-zinc-700"><span class="font-mono text-xs text-zinc-400">terminal</span> <button class="text-zinc-300" aria-label="Toggle terminal"><!></button></div> <!> <div class="flex-1 overflow-hidden"><div><!></div></div></div>');function ht(h,o){je(o,!1);const p=Xe(!1);$e(()=>{const t=sessionStorage.getItem("terminalCollapsed");t?p.set(t==="true"):window.innerWidth<768&&(p.set(!0),sessionStorage.setItem("terminalCollapsed","true"))});let c=ie(!1);p.subscribe(t=>V(c,t));function y(){p.update(t=>{const e=!t;return sessionStorage.setItem("terminalCollapsed",e.toString()),e||setTimeout(()=>{l(b)&&l(f)?.resizeTerminal(),l(f)?.focusTerminal()},300),e})}let f=ie(),b=ie(!1);$e(()=>{const t=()=>{V(b,window.innerWidth<768)},e=r=>{if(!(l(b)||!r.shiftKey)){if(r.key==="ArrowRight"&&!l(c))r.preventDefault(),r.stopImmediatePropagation(),y();else if(r.key==="ArrowLeft")l(c)?(r.preventDefault(),r.stopImmediatePropagation(),y()):(r.preventDefault(),r.stopImmediatePropagation(),l(f)?.focusTerminal());else if(r.key==="ArrowUp"&&!l(c)){r.preventDefault(),r.stopImmediatePropagation();const u=document.activeElement;u&&u.blur()}}};t(),window.addEventListener("resize",t),window.addEventListener("keydown",e,!0);const d=r=>{if(l(b))return;const u=document.activeElement;if(u&&u.classList.contains("xterm-helper-textarea"))return;const v=document.querySelector("main"),m=60;switch(r.key){case"j":(v??window).scrollBy({top:2*m,behavior:"smooth"});break;case"k":(v??window).scrollBy({top:-2*m,behavior:"smooth"});break;case"h":(v??window).scrollBy({left:-m,behavior:"smooth"});break;case"l":(v??window).scrollBy({left:m,behavior:"smooth"});break;default:return}r.preventDefault()};return window.addEventListener("keydown",d),()=>{window.removeEventListener("resize",t),window.removeEventListener("keydown",e,!0),window.removeEventListener("keydown",d)}}),Oe();var D=at();let _;var L=ne(D),W=Ie(ne(L),2),oe=ne(W);{var re=t=>{var e=Fe("▼");K(t,e)},ce=t=>{var e=Fe("▲");K(t,e)};xe(oe,t=>{l(c)?t(re):t(ce,!1)})}se(W),se(L);var S=Ie(L,2);{var O=t=>{var e=ct(),d=et(e);tt(2),_e("click",d,y),K(t,e)},U=(t,e)=>{{var d=r=>{var u=lt();_e("click",u,y),K(r,u)};xe(t,r=>{l(b)||r(d)},e)}};xe(S,t=>{!l(b)&&l(c)?t(O):t(U,!1)})}var q=Ie(S,2),E=ne(q);let J;var a=ne(E);Ee(rt(a,{$$legacy:!0}),t=>V(f,t),()=>l(f)),se(E),se(q),se(D),Be((t,e)=>{_=Ae(D,1,"h-full flex flex-col bg-zinc-900 desktop-wrapper svelte-twihms",null,_,t),J=Ae(E,1,"terminal-content body svelte-twihms",null,J,e)},[()=>({"desktop-collapsed":!l(b)&&l(c),"border-b":l(b)&&!l(c),"border-zinc-700":l(b)&&!l(c)}),()=>({"mobile-collapsed":l(b)&&l(c)})],ze),_e("click",W,y),K(h,D),Ne()}export{ht as default};
