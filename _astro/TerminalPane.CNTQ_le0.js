import{f as ft,o as Re,a as dt,i as He,g as Ye,_ as Ve,h as xe,w as ut,l as ht,j as mt,c as Oe,k as pt,b as Te}from"./router.w6Jd3Pfz.js";import{a0 as Xe,t as gt,a1 as wt,a2 as vt,Z as Ee,T as f,a3 as bt,a4 as yt,p as _t,R as ae,D as xt,a5 as kt,a6 as Bt,a7 as $t,a8 as It,S as ce,a9 as Dt,y as Qe,O as Ie,X as Ze,Q as le,B as Je,Y as Pe,W as ge,U as Fe,V as we,aa as Ge,P as St,ab as Ct}from"./template.CUcBOH1Q.js";/* empty css                        */function Ke(o,r,h){var l=Xe(o,r);l&&l.set&&(o[r]=h,gt(()=>{o[r]=null}))}function ze(o){return o.ctx?.d??!1}function At(o,r,h,l){var p=!$t||(h&It)!==0,u=(h&Dt)!==0,g=!1,k;[k,g]=ft(()=>o[r]);var x=kt in o||Bt in o,w=(Xe(o,r)?.set??(x&&r in o&&(d=>o[r]=d)))||void 0,P=l,N=!0,G=!1,X=()=>(G=!0,N&&(N=!1,P=l),P);k===void 0&&l!==void 0&&(w&&p&&wt(),k=X(),w&&w(k));var j;if(p)j=()=>{var d=o[r];return d===void 0?X():(N=!0,G=!1,d)};else{var F=Ee(()=>o[r]);F.f|=vt,j=()=>{var d=f(F);return d!==void 0&&(P=void 0),d===void 0?P:d}}if(w){var Q=o.$$legacy;return function(d,S){return arguments.length>0?((!p||!S||Q||g)&&w(S?j():d),d):j()}}var V=!1,M=ce(k),I=bt(()=>{var d=j(),S=f(M);return V?(V=!1,S):M.v=d});return f(I),I.equals=yt,function(d,S){if(arguments.length>0){const i=S?f(I):p&&u?_t(d):d;if(!I.equals(i)){if(V=!0,ae(M,i),G&&P!==void 0&&(P=i),ze(I))return d;xt(()=>f(I))}return d}return ze(I)?I.v:f(I)}}function Lt(o){const r={name:"/",type:"dir",path:"/",children:{}};for(const h of o){const p=h.replace(/^\.\/?/,"").split("/");let u=r,g="";for(let k=0;k<p.length;k++){const x=p[k];g+="/"+x;const w=x.includes(".");u.children||(u.children={}),u.children[x]||(u.children[x]={name:x,type:w?"file":"dir",path:g},w||(u.children[x].children={})),u=u.children[x]}}return r}const Tt=Object.keys({"/src/content/about.md":0,"/src/content/algo/about.md":0,"/src/content/algo/contests/about.md":0,"/src/content/algo/contests/arc-205.md":0,"/src/content/algo/notes/about.md":0,"/src/content/algo/problems/about.md":0,"/src/content/algo/problems/cf-105633l.md":0,"/src/content/algo/problems/cf-1967c.md":0,"/src/content/algo/problems/cf-2056f1.md":0,"/src/content/algo/problems/cf-2056f2.md":0,"/src/content/algo/problems/cf-2068e.md":0,"/src/content/algo/problems/cf-2113e.md":0,"/src/content/algo/problems/cf-2128f.md":0,"/src/content/algo/problems/cf-468d.md":0,"/src/content/algo/theory/about.md":0,"/src/content/algo/theory/detect_k_neighbours_bip.md":0,"/src/content/algo/theory/offline_incremental_scc.md":0,"/src/content/algo/theory/suffix_tree_funny_construction.md":0,"/src/content/games/about.md":0,"/src/content/games/zetamac.html":0,"/src/content/home.md":0,"/src/content/misc/about.md":0,"/src/content/misc/cf-archiver.html":0,"/src/content/misc/lit/about.md":0,"/src/content/misc/lit/list.md":0,"/src/content/misc/void.md":0});let ke=null;function Pt(){if(ke)return ke;const o=Tt.map(r=>r.replace(/^\/src\/content\//,"").replace(/\.md$/,".html"));return ke=Lt(o),ke}function De(o){const r=o.split("/").filter(Boolean);let h=Pt();for(const l of r){if(!h.children||!h.children[l])return null;h=h.children[l]}return h}function Be(o){const r=De(o);if(!r||r.type!=="dir"||!r.children)return null;const h=[],l=[];for(const[p,u]of Object.entries(r.children))u.type==="dir"?h.push(p):l.push(p);return h.sort(),l.sort(),[...h,...l]}function Ue(o){const r=De(o);return!!r&&r.type==="file"}function Y(o){const r=De(o);return!!r&&r.type==="dir"}function $e(o,r){if(r==="/")return[];const h=r.startsWith("/"),l=r.split("/").filter(Boolean),p=h?[]:[...o];for(const g of l)g===".."?p.pop():g!=="."&&p.push(g);return De("/"+p.join("/"))?p:null}var Ft=Ie("<div></div>");function Rt(o,r){Qe(r,!1);const l="\x1B[38;2;100;255;218m",u="\x1B[38;2;255;230;120m",g="\x1B[37m";let k=ce(),x=At(r,"isFocused",12,!0),w,P;function N(){w?.focus()}function G(){P?.fit()}let X={},j=!1,F=null;const Q=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];let V=0,M=null,I=!1;function d(a){return X[a]??1/0}const S={};function i(a,A){const e=S[a];if(e&&(A?e.max!==void 0:e.min!==void 0))return A?typeof e.max=="number"?e.max:-1/0:typeof e.min=="number"?e.min:1/0;let D=A?-1/0:1/0;const z=Be(a)||[];for(const R of z){const L=a==="/"?"/"+R:`${a}/${R}`;let B;Y(L)?B=i(L,A):L.endsWith(".html")?B=d(L):B=A?-1/0:1/0,D=A?Math.max(D,B):Math.min(D,B)}return S[a]||(S[a]={}),A?S[a].max=D:S[a].min=D,D}function _(a,A,e){const D=e==="desc";return[...A].sort((z,R)=>{const L=a==="/"?"/"+z:`${a}/${z}`,B=a==="/"?"/"+R:`${a}/${R}`;let O=Y(L)?i(L,D):d(L),J=Y(B)?i(B,D):d(B);Number.isFinite(O)||(O=D?-1/0:1/0),Number.isFinite(J)||(J=D?-1/0:1/0);const c=D?J-O:O-J;return c===0?z.localeCompare(R):c})}function K(){F||!w||(w.write("\r\x1B[2K"),w.write(`${Q[0]} Loading...`),F=setInterval(()=>{V=(V+1)%Q.length,w?.write(`\r\x1B[2K${Q[V]} Loading...`)},100))}function v(a){F&&(clearInterval(F),F=null),w&&(w.write("\r\x1B[K"),w.write(`${u}✓ Page loaded successfully\x1B[0m\r
`),w.write(`\r
`),a&&a())}Re(async()=>{x(!0);try{const b=await fetch("/vfs-date-index.json",{cache:"force-cache"});b.ok&&(X=await b.json())}catch{}const{Terminal:a}=await Ve(async()=>{const{Terminal:t}=await import("./xterm.CszRhTCM.js").then(n=>n.x);return{Terminal:t}},[]),{FitAddon:A}=await Ve(async()=>{const{FitAddon:t}=await import("./addon-fit.xGgdMdBE.js").then(n=>n.a);return{FitAddon:t}},[]),e=new a({theme:{background:"#0a0a0a",foreground:"#e0e0e0",cursor:"#64ffda",cursorAccent:"#0a0a0a",selectionBackground:"rgba(100, 255, 218, 0.2)",selectionForeground:"#e0e0e0",black:"#0a0a0a",red:"#ff6b6b",green:"#51cf66",yellow:"#ffd43b",blue:"#339af0",magenta:"#f06595",cyan:"#64ffda",white:"#e0e0e0",brightBlack:"#495057",brightRed:"#ff8787",brightGreen:"#69db7c",brightYellow:"#ffe066",brightBlue:"#4dabf7",brightMagenta:"#f783ac",brightCyan:"#7fecec",brightWhite:"#f8f9fa"},cursorBlink:!1,fontFamily:"IBM Plex Mono, SF Mono, Menlo, Monaco, Consolas, monospace",fontSize:14,fontWeight:"400",letterSpacing:.5,cols:80,rows:24,convertEol:!0,allowProposedApi:!0,smoothScrollDuration:120}),D=new A;P=D,e.loadAddon(D),e.open(f(k)),w=e,D.fit(),e.focus();function z(t){x(t)}e.textarea?.addEventListener("focus",()=>z(!0)),e.textarea?.addEventListener("blur",()=>z(!1));let R=[],L=["/"],B=[],O=0,J="",c="",m=0;const et=["ls","cd","open","pop","clear","help","skin","skins"];let se=[],ve=0,ee=!1,re="";const fe=()=>{const t="/"+R.join("/");e.write(`${l}${t}\x1B[0m $ `)};function tt(t){if(!t)return!1;const[n,...b]=t.split(/\s+/);switch(n){case"ls":{const s=b.filter(E=>E.startsWith("-")),y=s.includes("-R")||s.includes("-r"),$=s.includes("-v"),T=b.find(E=>!E.startsWith("-"))||".",q=$e(R,T);if(!q)return e.writeln(`ls: cannot access '${T}': No such file or directory`),!1;const H="/"+q.join("/");if(Ue(H))return e.writeln(`${Y(H)?g:u}${T}\x1B[0m`),!1;const W=s.includes("-d")||s.includes("-dl"),ie=s.includes("-de"),te=W?"desc":ie?"asc":null;if(y){const E=[],he=(oe,Se="")=>{let be="/"+oe.join("/"),ne=Be(be)||[];te&&(ne=_(be,ne,te)),ne.forEach((me,Ce)=>{const pe=Ce===ne.length-1,ye=pe?"└─ ":"├─ ",Ae=[...oe,me],qe="/"+Ae.join("/"),Le=Y(qe),ct=Le?g:u;let We="";if($&&!Le){const _e=d(qe);Number.isFinite(_e)&&(We=`\x1B[2m[${new Date(_e).toISOString().slice(0,10)}]\x1B[0m `)}if(E.push(`${Se}${ye}${We}${ct}${me}\x1B[0m`),Le){const _e=Se+(pe?"   ":"│  ");he(Ae,_e)}})};he(q);for(const oe of E)e.writeln(oe)}else{let E=Be(H)||[];te&&(E=_(H,E,te)),E.forEach((he,oe)=>{const be=oe===E.length-1?"└─ ":"├─ ",ne=`${H}/${he}`,me=Y(ne),Ce=me?g:u;let pe="";if($&&!me){const ye=d(ne.replace(/\.md$/,".html"));Number.isFinite(ye)&&(pe=`\x1B[2m[${new Date(ye).toISOString().slice(0,10)}]\x1B[0m `)}e.writeln(`${be}${pe}${Ce}${he}\x1B[0m`)})}return!1}case"cd":{const s=b[0]||"/",y=$e(R,s);if(!y){e.writeln(`cd: no such directory: ${s}`);break}const $="/"+y.join("/");if(!Y($)){e.writeln(`cd: not a directory: ${s}`);break}return R=y,!1}case"open":{const s=b[0];if(!s)return e.writeln("open: missing file"),!1;const y=$e(R,s);if(y&&Ue("/"+y.join("/"))){const $="/"+y.join("/");return mt(xe)===$?(e.writeln(`Already viewing: ${s}`),!1):(L.push($),xe.push($),!0)}else return e.writeln(`open: file not found: ${s}`),!1}case"pop":if(L.length>1){L.pop();const s=L[L.length-1];return xe.push(s),!0}else return e.writeln("pop: history empty"),!1;case"clear":return e.clear(),!1;case"skins":{const s=ht();return s.forEach((y,$)=>{const T=$===s.length-1?"└─ ":"├─ ";e.writeln(T+y)}),!1}case"skin":{const s=b[0];if(!s)e.writeln("Usage: skin <name>");else try{ut(s),e.writeln(`Now wearing ${s}`)}catch(y){e.writeln(String(y))}return!1}case"help":{const s=(T,q)=>T+" ".repeat(Math.max(0,q-T.length)),y=[{cmd:"ls [-r] [-d|-dl|-de] [-v] [path]",desc:"list directory (tree with -r, date sort, verbose dates)"},{cmd:"cd <dir>",desc:"change directory"},{cmd:"open <file>",desc:"open file in content pane"},{cmd:"skins",desc:"list available skins"},{cmd:"skin <name>",desc:"wear skin"},{cmd:"pop",desc:"go back"},{cmd:"clear",desc:"clear terminal"},{cmd:"help",desc:"-"}];e.writeln(`${l}COMMAND         DESCRIPTION\x1B[0m`);for(const{cmd:T,desc:q}of y)e.writeln(`${u}${s(T,14)}\x1B[0m  ${q}`);e.writeln(""),e.writeln(`${l}SHORTCUT        DESCRIPTION\x1B[0m`);const $=[{key:"Tab",desc:"accept autocomplete"},{key:"Shift+Tab",desc:"cycle suggestions"},{key:"← / →",desc:"move cursor left/right"},{key:"Shift+→",desc:"collapse terminal"},{key:"Shift+←",desc:"expand / focus terminal"},{key:"Shift+↑",desc:"focus content pane"},{key:"h/j/k/l",desc:"scroll content pane (when terminal unfocused)"}];for(const{key:T,desc:q}of $)e.writeln(`${u}${s(T,14)}\x1B[0m  ${q}`);return!1}default:return e.writeln(`unknown command: ${n}`),e.write("\r"),!1}return!1}function de(){ee&&(e.write("\x1B[s"),e.write("\x1B[K"),e.write("\x1B[u"),ee=!1,re="")}function je(t){if(de(),!t)return;e.write("\x1B[s");const n=m<c.length?`\x1B[${c.length-m}C`:"";e.write(n),e.write(`\x1B[90m${t}\x1B[0m`),e.write("\x1B[u"),ee=!0,re=t}function nt(t){return et.filter(n=>n.startsWith(t))}function st(t){const n=t.lastIndexOf("/"),b=n===-1?"":t.slice(0,n+1),s=n===-1?t:t.slice(n+1),y=$e(R,b||".");if(!y)return[];const $="/"+y.join("/"),H=(Be($)||[]).filter(W=>W.startsWith(s)).map(W=>{const ie=`${$}/${W}`;return b+(Y(ie)?W+"/":W)});return H.sort((W,ie)=>{const te=W.endsWith("/"),E=ie.endsWith("/");return te===E?W.localeCompare(ie):te?-1:1}),H.slice(0,20)}function ue(){const t=c.split(/\s+/),n=t[0]||"",b=t[t.length-1]||"";let s=[];if(t.length===1?s=nt(b):["cd","ls","open"].includes(n)&&(s=st(b)),se=s,ve=0,se.length){const $=se[0].slice(b.length);je($)}}function rt(){!ee||!re||(c=c.slice(0,m)+re+c.slice(m),m+=re.length,m===c.length?e.write(re):Ne(),de())}function it(){if(!ee||se.length<2)return;ve=(ve+1)%se.length;const t=c.split(/\s+/),n=t[t.length-1]||"",s=se[ve].slice(n.length);je(s)}function Ne(){e.write("\x1B[2K\r"),fe(),e.write(c),m<c.length&&e.write(`\x1B[${c.length-m}D`)}function Me(t){t==="left"&&m>0?(m--,e.write("\x1B[D")):t==="right"&&m<c.length&&(m++,e.write("\x1B[C"))}function ot(t){if(c=c.slice(0,m)+t+c.slice(m),m++,m===c.length)e.write(t);else{const n=c.slice(m-1);e.write(n),e.write(`\x1B[${n.length-1}D`)}}function lt(){if(m===0)return;c=c.slice(0,m-1)+c.slice(m),m--,e.write("\x1B[D");const t=c.slice(m)+" ";e.write(t),e.write(`\x1B[${t.length}D`)}let U="";const at=t=>{if(!j)for(const n of t){const b=n.charCodeAt(0);if(U){if(U+=n,U==="\x1B[C"||U==="\x1B[D"){U="";continue}else U.length>=3&&(U="");continue}if(n==="\x1B"){U="\x1B";continue}switch(b){case 9:{rt(),ue();break}case 13:{e.write(`\r
`);const s=c.trim(),y=tt(s);s&&B.push(s),O=B.length,c="",m=0,s==="clear"?fe():y||(e.write(`\r
`),fe());break}case 127:{lt(),ue();break}default:b>=32&&b<127&&(de(),ot(n),ue())}}};ue(),e.onData(at),e.onKey(({key:t,domEvent:n})=>{if(j){n.preventDefault();return}if(n.key==="ArrowUp"||n.key==="ArrowDown"){if(n.preventDefault(),!B.length)return;O===B.length&&(J=c),n.key==="ArrowUp"&&O>0?O--:n.key==="ArrowDown"&&O<B.length&&O++,c=O===B.length?J:B[O],m=c.length,Ne(),de(),ue();return}if(n.key==="Tab"&&n.shiftKey&&ee){n.preventDefault(),it();return}if(n.key==="ArrowLeft"){n.preventDefault(),Me("left");return}if(n.key==="ArrowRight"){n.preventDefault(),Me("right");return}ee&&!["Tab","Shift","Control","Alt","Meta"].includes(n.key)&&de()}),e.writeln("Type help for command list."),e.writeln(""),fe(),I=!0,M=xe.loading.subscribe(t=>{if(j=t,t)K();else{if(!I)return;v(fe)}})}),dt(()=>{M&&M(),F&&clearInterval(F)}),He();var C=Ft();let Z;return Ye(C,a=>ae(k,a),()=>f(k)),Ze(a=>Z=Oe(C,1,"terminal-shell h-full w-full svelte-7500li",null,Z,a),[()=>({focused:x()})],Ee),le(o,C),Ke(r,"focusTerminal",N),Ke(r,"resizeTerminal",G),Je({focusTerminal:N,resizeTerminal:G})}var Ot=Ie('<button class="desktop-toggle hidden md:flex svelte-1qxssin" aria-label="Expand terminal">◀</button> <span class="collapsed-label hidden md:block svelte-1qxssin">terminal</span>',1),Et=Ie('<button class="desktop-toggle hidden md:flex svelte-1qxssin" aria-label="Collapse terminal">▶</button>'),jt=Ie('<div><div class="md:hidden flex items-center justify-between px-4 py-3 mobile-header svelte-1qxssin"><span class="mobile-title text-xs svelte-1qxssin">terminal</span> <button class="mobile-toggle svelte-1qxssin" aria-label="Toggle terminal"><!></button></div> <!> <div class="flex-1 overflow-hidden"><div><!></div></div></div>');function Vt(o,r){Qe(r,!1);const h=pt(!1);Re(()=>{const i=sessionStorage.getItem("terminalCollapsed");i?h.set(i==="true"):window.innerWidth<768&&(h.set(!0),sessionStorage.setItem("terminalCollapsed","true"))});let l=ce(!1);h.subscribe(i=>ae(l,i));function p(){h.update(i=>{const _=!i;return sessionStorage.setItem("terminalCollapsed",_.toString()),_||setTimeout(()=>{f(g)&&f(u)?.resizeTerminal(),f(u)?.focusTerminal()},300),_})}let u=ce(),g=ce(typeof window<"u"?window.innerWidth<768:!1),k=ce(!1);Re(()=>{const i=()=>{ae(g,window.innerWidth<768),setTimeout(()=>{f(u)?.resizeTerminal()},100)},_=v=>{if(!(f(g)||!v.shiftKey)){if(v.key==="ArrowRight"&&!f(l))v.preventDefault(),v.stopImmediatePropagation(),p();else if(v.key==="ArrowLeft")f(l)?(v.preventDefault(),v.stopImmediatePropagation(),p()):(v.preventDefault(),v.stopImmediatePropagation(),f(u)?.focusTerminal());else if(v.key==="ArrowUp"&&!f(l)){v.preventDefault(),v.stopImmediatePropagation();const C=document.activeElement;C&&C.blur()}}};i(),window.addEventListener("resize",i),window.addEventListener("keydown",_,!0);const K=v=>{if(f(g))return;const C=document.activeElement;if(C){const A=C.tagName.toLowerCase();if(A==="input"||A==="textarea"||C.isContentEditable||C.classList.contains("xterm-helper-textarea"))return}const Z=document.querySelector("main"),a=60;switch(v.key){case"j":(Z??window).scrollBy({top:2*a,behavior:"smooth"});break;case"k":(Z??window).scrollBy({top:-2*a,behavior:"smooth"});break;case"h":(Z??window).scrollBy({left:-a,behavior:"smooth"});break;case"l":(Z??window).scrollBy({left:a,behavior:"smooth"});break;default:return}v.preventDefault()};return window.addEventListener("keydown",K),()=>{window.removeEventListener("resize",i),window.removeEventListener("keydown",_,!0),window.removeEventListener("keydown",K)}}),He();var x=jt();let w;var P=ge(x),N=Fe(ge(P),2),G=ge(N);{var X=i=>{var _=Ge("▼");le(i,_)},j=i=>{var _=Ge("▲");le(i,_)};Te(G,i=>{f(l)?i(X):i(j,!1)})}we(N),we(P);var F=Fe(P,2);{var Q=i=>{var _=Ot(),K=St(_);Ct(2),Pe("click",K,p),le(i,_)},V=(i,_)=>{{var K=v=>{var C=Et();Pe("click",C,p),le(v,C)};Te(i,v=>{f(g)||v(K)},_)}};Te(F,i=>{!f(g)&&f(l)?i(Q):i(V,!1)})}var M=Fe(F,2),I=ge(M);let d;var S=ge(I);Ye(Rt(S,{get isFocused(){return f(k)},set isFocused(i){ae(k,i)},$$legacy:!0}),i=>ae(u,i),()=>f(u)),we(I),we(M),we(x),Ze((i,_)=>{w=Oe(x,1,"h-full flex flex-col desktop-wrapper svelte-1qxssin",null,w,i),d=Oe(I,1,"terminal-content body svelte-1qxssin",null,d,_)},[()=>({"desktop-collapsed":!f(g)&&f(l),focused:f(k)}),()=>({"mobile-collapsed":f(g)&&f(l)})],Ee),Pe("click",N,p),le(o,x),Je()}export{Vt as default};
